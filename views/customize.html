<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Customize - BakeGenius.ai</title>
    <link href="https://fonts.googleapis.com/css2?family=Comic+Neue:wght@300;400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    
    <link rel="stylesheet" href="../public/css/index.css">
    <link rel="stylesheet" href="../public/css/customize.css">
    <link rel="stylesheet" href="../public/css/floating_emoji_fix.css">

    <script src="https://www.gstatic.com/firebasejs/10.12.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.12.0/firebase-auth.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <script src="https://unpkg.com/lenis@1.1.21/dist/lenis.min.js"></script>
    
    <style>
        /* Hide the toast notification completely */
        #toastNotification {
            display: none !important;
        }
    </style>
</head>
<body>
    <div class="floating-elements">
        <div class="floating-cupcake">üßÅ</div>
        <div class="floating-cupcake">üç∞</div>
        <div class="floating-cupcake">ü•ß</div>
        <div class="floating-cupcake">üç™</div>
    </div>

    <nav class="navbar">
        <div class="navbar-container">
            <a href="../index.html" class="logo">üç∞ BakeGenius.ai</a>
            
            <button class="hamburger" id="hamburger-menu">
                <i class="fas fa-bars"></i>
            </button>

            <div class="menu-wrapper" id="menu-wrapper">
                <ul class="nav-links" id="navLinks">
                    <li><a href="convert.html" class="active">Convert Recipe</a></li>
                    <li><a href="customize.html">Customize</a></li>
                    <li><a href="recipe_hub.html">Recipe Hub</a></li>
                    <li><a href="about.html">About</a></li>
                </ul>

                <div class="nav-right">
                    <a href="feedback.html" class="feedback-btn fb-color">Feedback</a>
                    <div class="auth-buttons">
                        <a href="login.html" class="login-btn">Login</a>
                        <a href="signup.html" class="signup-btn">Sign Up</a>
                    </div>
                    <a href="scale.html" class="cta-btn scale-nav-btn">Scale Now</a>
                    <label class="theme-switch">
                        <input type="checkbox" id="theme-toggle" />
                        <span class="slider">
                            <i class="fas fa-sun"></i>
                            <i class="fas fa-moon"></i>
                        </span>
                    </label>
                </div>
            </div>
        </div>
    </nav>

    <div class="container">
        <div class="page-header">
            <h1 class="page-title">üé® Customize Your Recipe</h1>
            <p class="page-subtitle">Fine-tune ingredient densities and measurement types for perfect baking precision!</p>
        </div>

        <div class="brand-selector">
            <h2 class="brand-title">üè∑Ô∏è Choose Your Preferred Brand</h2>
            <div class="brand-options">
                <div class="brand-option selected" data-brand="standard">Standard/Generic</div>
                <div class="brand-option" data-brand="king-arthur">King Arthur Flour</div>
                <div class="brand-option" data-brand="bob-red-mill">Bob's Red Mill</div>
                <div class="brand-option" data-brand="gold-medal">Gold Medal</div>
            </div>
        </div>

        <div class="ingredients-container" id="ingredientsContainer">
        </div>
        
        <div class="density-editor">
            <h2>‚öñÔ∏è Ingredient Density Editor</h2>
            <form id="densityForm">
                <input type="text" id="ingredientName" placeholder="Ingredient name (e.g. sugar)" required>
                <input type="number" id="ingredientDensity" placeholder="Density (g/ml)" required>
                <button type="submit" class="btn btn-primary">Add / Update Density</button>
            </form>
            <ul id="densityList"></ul>
        </div>

        <div class="success-message" id="successMessage">
            ‚ú® Settings saved successfully! Your customizations will be applied to future conversions.
        </div>

        <div class="action-buttons">
            <button class="btn btn-primary" onclick="applyChanges(event)">
                ‚ú® Apply Changes
            </button>
            <button class="btn btn-secondary" onclick="resetToDefaults()">
                üîÑ Reset to Defaults
            </button>
            <button class="btn btn-success" onclick="saveSettings(event)">
                üíæ Save Settings
            </button>
        </div>
    </div>

    <!-- Enhanced Footer -->
    <footer class="footer">
        <div class="footer-container">
            <!-- Company Section -->
            <div class="footer-company">
                <h2 class="footer-logo">BakeGenius.ai</h2>
                <p class="footer-description">
                    Revolutionizing baking with AI-powered precision. Convert, customize, and scale your recipes with ease.
                </p>
            </div>

            <!-- Quick Links -->
            <div class="footer-links">
                <h3 class="footer-section-title">Quick Links</h3>
                <ul>
                    <li><a href="views/about.html">About Us</a></li>
                    <li><a href="views/convert.html">Convert Recipe</a></li>
                    <li><a href="views/customize.html">Customize</a></li>
                    <li><a href="views/scale.html">Scale Recipes</a></li>
                    <li><a href="views/feedback.html">Feedback</a></li>
                </ul>
            </div>

            <!-- Newsletter -->
            <div class="footer-newsletter">
                <h3 class="footer-section-title">Stay Updated</h3>
                <p class="newsletter-description">Subscribe to our newsletter for baking tips & feature updates.</p>
                <div class="newsletter-form">
                    <input type="email" placeholder="Enter your email" />
                    <button type="button">Subscribe</button>
                </div>
            </div>

            <!-- Social Links -->
            <div class="footer-social">
                <h3 class="footer-section-title">Connect with Us</h3>
                <div class="social-icons">
                    <a href="https://www.linkedin.com/in/supriyapandey595/" class="social-icon linkedin" target="_blank" title="LinkedIn">
                        <i class="fab fa-linkedin-in"></i>
                    </a>
                    <a href="https://github.com/supriya46788" class="social-icon github" target="_blank" title="GitHub">
                        <i class="fab fa-github"></i>
                    </a>
                    <a href="mailto:supriyadpandey502@gmail.com" class="social-icon email" title="Email">
                        <i class="fas fa-envelope"></i>
                    </a>
                </div>
            </div>
        </div>

        <!-- Footer Bottom -->
        <div class="footer-bottom">
            <p class="footer-text">¬© 2025 BakeGenius.ai | All Rights Reserved</p>
        </div>
    </footer>

    <!-- Toast Notification -->
    <div id="toastNotification" class="toast">
        <div class="toast-icon">‚úîÔ∏è</div>
        <div id="toastMessage" class="toast-message">Subscribed successfully!</div>
        <button id="toastClose" class="toast-close">&times;</button>
    </div>

    <!-- Scripts -->
    <script src="../js/auth.js"></script>
    <script src="../js/firebase.js"></script>
    <script src="js/theme.js"></script>
    <script src="js/index.js"></script>
    <script src="js/google_config.js"></script>
    <script src="js/auth.js"></script>
    <script src="https://unpkg.com/lenis@1.1.21/dist/lenis.min.js"></script>
    <script src="./js/feature.js"></script>
    <script src="./js/mouse-trail.js"></script>

    <script>
        // Dark Mode Theme Toggle Functionality
        const themeToggle = document.getElementById('theme-toggle');
        const currentTheme = localStorage.getItem('theme') || 'light';
        
        // Set initial theme
        document.documentElement.setAttribute('data-theme', currentTheme);
        if (themeToggle) {
            themeToggle.checked = currentTheme === 'dark';
        }
        
        // Theme toggle event listener
        if (themeToggle) {
            themeToggle.addEventListener('change', function(e) {
                if (e.target.checked) {
                    document.documentElement.setAttribute('data-theme', 'dark');
                    localStorage.setItem('theme', 'dark');
                } else {
                    document.documentElement.setAttribute('data-theme', 'light');
                    localStorage.setItem('theme', 'light');
                }
            });
        }

        // Enhanced newsletter functionality
        const newsletterButton = document.querySelector('.newsletter-form button');
        const newsletterInput = document.querySelector('.newsletter-form input');

        if (newsletterButton && newsletterInput) {
            newsletterButton.addEventListener('click', function(e) {
                e.preventDefault();
                const email = newsletterInput.value;
                
                if (email && email.includes('@')) {
                    this.innerHTML = '<i class="fas fa-check"></i> Subscribed!';
                    this.style.background = 'linear-gradient(135deg, #4caf50, #66bb6a)';
                    
                    setTimeout(() => {
                        this.innerHTML = 'Subscribe';
                        this.style.background = 'linear-gradient(135deg, #ff6ec7 0%, #ffa07a 50%, #87cefa 100%)';
                        newsletterInput.value = '';
                    }, 3000);
                } else {
                    this.innerHTML = '<i class="fas fa-exclamation"></i> Invalid Email';
                    this.style.background = 'linear-gradient(135deg, #f44336, #ef5350)';
                    
                    setTimeout(() => {
                        this.innerHTML = 'Subscribe';
                        this.style.background = 'linear-gradient(135deg, #ff6ec7 0%, #ffa07a 50%, #87cefa 100%)';
                    }, 2000);
                }
            });
        }

        // Back to Top Button functionality
        let scrollBtn = document.getElementById("scrollTopBtn");

        if (scrollBtn) {
            window.onscroll = function () {
                if (document.body.scrollTop > 100 || document.documentElement.scrollTop > 100) {
                    scrollBtn.style.display = "block";
                } else {
                    scrollBtn.style.display = "none";
                }
            };

            scrollBtn.onclick = function () {
                window.scrollTo({ top: 0, behavior: "smooth" });
            };
        }

        // Newsletter Toast
        const toast = document.getElementById("toastNotification");
        const toastMsg = document.getElementById("toastMessage");
        const toastClose = document.getElementById("toastClose");

        if (toastClose) {
            toastClose.addEventListener("click", () => toast.classList.remove("show"));
        }

        // Loader
        window.addEventListener("load", () => {
            setTimeout(() => {
                const loadingScreen = document.getElementById("loading-screen");
                if (loadingScreen) {
                    loadingScreen.classList.add("hidden");
                }
            }, 2000);
        });

        // Typing Animation
        document.addEventListener("DOMContentLoaded", () => {
            const el = document.querySelector(".hero-title");
            if (!el) return;
            const startTyping = () => {
                el.classList.remove("typing-active");
                void el.offsetWidth;
                el.classList.add("typing-active");
            };
            const observer = new IntersectionObserver(([entry]) => {
                if (entry.isIntersecting) startTyping();
            }, { threshold: 0.5 });
            observer.observe(el);
        });

        // Hamburger toggle for mobile
        document.addEventListener("DOMContentLoaded", () => {
            const hamburger = document.getElementById("hamburger-menu");
            const menuWrapper = document.getElementById("menu-wrapper");

            if (hamburger && menuWrapper) {
                hamburger.addEventListener("click", () => {
                    menuWrapper.classList.toggle("active");
                });
            }
        });

        // Page-specific functionality placeholders
        function applyChanges(event) {
            event.preventDefault();
            // Add your apply changes logic here
            console.log('Changes applied');
        }

        function resetToDefaults() {
            // Add your reset logic here
            console.log('Reset to defaults');
        }

        function saveSettings(event) {
            event.preventDefault();
            // Add your save settings logic here
            const successMessage = document.getElementById('successMessage');
            if (successMessage) {
                successMessage.style.display = 'block';
                setTimeout(() => {
                    successMessage.style.display = 'none';
                }, 3000);
            }
            console.log('Settings saved');
        }
    </script>
</body>
</html>